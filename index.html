<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Startpage</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <img src="https://archlinux.org/static/logos/archlinux-logo-light-scalable.svg" alt="logo" id='logo'>
  <div class="links-wrap"> 
    <div class="links" id='links'>
    <!--<div class="link">
      <a href="https://youtube.com">
        <img src='https://favicon.is/youtube.com' alt="" class='link-img'>
        <h1>YouTube</h1>
      </a>
    </div> 
    <div class="link">
      <a href="https://discord.com">
        <img src='https://favicon.is/discord.com' alt="" class='link-img'>
        <h1>Discord</h1>
      </a>
    </div>
    <div class="link">
      <a href="https://reddit.com">
        <img src='https://favicon.is/reddit.com' alt="" class='link-img'>
        <h1>Reddit</h1>
      </a>
    </div>
    <div class="link">
      <a href="https://github.com">
        <img src='https://favicon.is/github.com' alt="" class='link-img'>
        <h1>GitHub</h1>
      </a>
    </div>
    <div class="link">
      <a href="https://chat.deepseek.com">
        <img src='https://favicon.is/chat.deepseek.com' alt="" class='link-img'>
        <h1>DeepSeek</h1>
      </a>
    </div>-->
    </div>
  </div>
  <script>
    const links = document.getElementById('links');
    let defaultLinks = [
      {'name': 'YouTube', url: 'https://youtube.com'},
      {'name': 'Reddit', url: 'https://reddit.com'},
      {'name': 'Deepseek', url: 'https://chat.deepseek.com'},
      {'name': 'Discord', url: 'https://discord.com/channels/@me'},
    ]
    const d = new Date();
    d.setTime(d.getTime() + (1000*24*60*60*1000));
    let expires = "expires=" + d.toUTCString();
    if (!getCookie('links')){
      document.cookie = 'links=' + JSON.stringify(defaultLinks) + ';expires=31 December 2040';
    } 
    function getCookie(cname) {
      let name = cname + "=";
      let ca = document.cookie.split(';');
      for(let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') {
        c = c.substring(1);
      }
      if (c.indexOf(name) == 0) {
        return c.substring(name.length, c.length);
      }}}
    let linksc = JSON.parse(getCookie('links'));
    linksc.forEach((bookmark, index) => {
                links.innerHTML += `
                   <div class="link">
                     <a href="${bookmark.url}">
                       <img src='https://favicon.is/${bookmark.url.slice(8)}' alt="" class='link-img'>
                       <h1>${bookmark.name}</h1>
                      </a>
                   </div> 
                    `;}) 
    console.log(linksc);
    console.log(defaultLinks)
  </script>
</body>
</html>
